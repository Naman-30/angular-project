<div class="container-fluid">
  <div class="container cardEdit" [ngClass]="formStatus">
    <div class="card p-3 m-5 shadow-lg p-3 mb-5 bg-white rounded ">
      <form [formGroup]="signUpForm" (ngSubmit)="signUp()">
        <div class="card-head">
          <h1 class="heading">SIGN UP</h1>
        </div>
        <mat-form-field appearance="fill">
          <mat-label>Enter Username</mat-label>
          <mat-icon [style.color]="'red'" *ngIf="username?.touched && username?.errors" matSuffix>new_releases</mat-icon>
          <mat-icon [style.color]="'green'" *ngIf="username?.touched && !username?.errors" matSuffix>how_to_reg</mat-icon>
          <input
            matInput
            placeholder="Enter username"
            formControlName="username"
            UniqueUsername
          />
          <mat-error *ngIf="username?.errors?.['required']&&(username?.invalid && (username?.dirty || username?.touched))">username is required.</mat-error>
          <mat-error *ngIf="username?.errors?.['minlength']&&(username?.invalid && (username?.dirty || username?.touched))">username must be at least 3 characters long.</mat-error>
          <mat-error *ngIf="username?.errors?.['pattern']&&(username?.invalid && (username?.dirty || username?.touched))">username only contain alphabets</mat-error>
          <mat-error *ngIf="username?.errors?.['uniqueUsername']&&(username?.invalid && (username?.touched))">username already exist</mat-error>
       
        </mat-form-field>
           <mat-form-field appearance="fill">
          <mat-label>Enter your email</mat-label>
          <input
            matInput
            placeholder="pat@example.com"
            formControlName="email"
            UniqueEmail
          />
          <mat-icon [style.color]="'red'" *ngIf="email?.touched && email?.errors" matSuffix>new_releases</mat-icon>
          <mat-error *ngIf="email?.errors?.['required']&&(email?.invalid && (email?.dirty || email?.touched))">email is required.</mat-error>
          <mat-error *ngIf="email?.errors?.['email']&&(email?.invalid && (email?.dirty || email?.touched))">Enter a valid email</mat-error>
          <mat-error *ngIf="email?.errors?.['invalidEmail']">email already register</mat-error>
          </mat-form-field>

        <!-- <div formGroupName="pwd"> -->
        <mat-form-field appearance="fill">
          <mat-label>Enter your password</mat-label>
          <input
            matInput
            [type]="hide ? 'password' : 'text'"
            formControlName="password"
          />

          <mat-icon class="" matSuffix (click)="hide = !hide">{{
            hide ? "visibility" : "visibility_off"
          }}</mat-icon>
          <mat-icon [style.color]="'green'" *ngIf="password?.touched && !password?.errors" matPrefix>how_to_reg</mat-icon>

          <mat-error *ngIf="password?.errors?.['required']&&(password?.invalid && (password?.dirty || password?.touched))">password is required.</mat-error>
          <mat-error *ngIf="password?.errors?.['minlength']&&(password?.invalid && (password?.dirty || password?.touched))">password must be at least 8 characters long.</mat-error>
          <mat-error *ngIf="password?.errors?.['pattern']&&(password?.invalid && (password?.dirty || password?.touched))">password must contain uppercase lowercase numbers and special characters</mat-error>
      
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>confirm password</mat-label>
          <input
            matInput
            [type]="show ? 'password' : 'text'"
            formControlName="confirmPassword"
          />
          <mat-icon [style.color]="'green'" *ngIf="confirmPassword?.touched && !confirmPassword?.errors" matPrefix>how_to_reg</mat-icon>

          <mat-icon matSuffix (click)="show = !show">{{
            show ? "visibility" : "visibility_off"
          }}</mat-icon>
          <mat-error *ngIf="confirmPassword?.errors?.['required']&&(confirmPassword?.invalid && (confirmPassword?.dirty || confirmPassword?.touched))">confirmPassword is required.</mat-error>
          <mat-error *ngIf="confirmPassword?.errors?.['minlength']&&(confirmPassword?.invalid && (confirmPassword?.dirty || confirmPassword?.touched))">confirmPassword must be at least 8 characters long.</mat-error>
          <mat-error *ngIf="formControls['confirmPassword'].errors && formControls['confirmPassword'].errors['confirmValidator']">confirmPassword not match</mat-error>       
        </mat-form-field>
        <!-- </div> -->

        <!-- dynamic array  -->
        <!-- <div formArrayName="aliases">
          <h2>Aliases</h2>
          <button type="button" (click)="addAlias()">+ Add another alias</button
          ><br /><br />
          <div *ngFor="let alias of aliases.controls; let i = index">
            <label for="alias-{{ i }}">Alias: </label>
            <input
              placeholder="Enter alias"
              type="text"
              id="alias-{{ i }}"
              [formControlName]="i"
            />
          </div>
        </div>
        <br /> -->
        <h2>Already have an account? <a routerLink="/login">Login</a></h2>
        <p>Complete the form to enable button.</p>
        <button
          mat-raised-button
          type="submit"
          [disabled]="signUpForm.invalid"
          color="primary"
        >
          Signup
        </button>
      </form>
    </div>
  </div>
</div>
